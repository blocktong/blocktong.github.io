<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>잃어버린 열쇠를 찾아요 | blocktong</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://blocktong.github.io///post/2024-05-05-InSearchofLostKeys" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="잃어버린 열쇠를 찾아요 | blocktong" data-gatsby-head="true"/><meta property="og:title" content="잃어버린 열쇠를 찾아요 | blocktong" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-05-InSearchofLostKeys_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://blocktong.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://blocktong.github.io///post/2024-05-05-InSearchofLostKeys" data-gatsby-head="true"/><meta name="twitter:title" content="잃어버린 열쇠를 찾아요 | blocktong" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-05-InSearchofLostKeys_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | blocktong" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-05 17:37" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-V5DKFTZ6BX"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-V5DKFTZ6BX');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cd012fc8787133d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cd012fc8787133d0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4a646156c659a948.js" defer=""></script><script src="/_next/static/chunks/348-d11c34b645b13f5b.js" defer=""></script><script src="/_next/static/chunks/551-3069cf29fe274aab.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-46e6ca0ca48de91b.js" defer=""></script><script src="/_next/static/o88Ur64-oLrud7YPysgph/_buildManifest.js" defer=""></script><script src="/_next/static/o88Ur64-oLrud7YPysgph/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">Block Tong</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">잃어버린 열쇠를 찾아요</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="잃어버린 열쇠를 찾아요" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">Block Tong</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 5, 2024</span><span class="posts_reading_time__f7YPP">6<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-05-InSearchofLostKeys&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><p>이 글은 &quot;과거에서의 소식&quot;으로, 새해가 다가오는 지금 이 시기에 적절하다고 생각해요. 사토시 나카모토는 2009년 1월 3일에 최초의 블록체인인 비트코인을 발표했습니다. 그리고 우리는 거의 그 이벤트의 15주년을 맞이하고 있어요.</p>
<p>블록체인은 지갑을 주요 사용자 인터페이스로 사용하며, 지난 15년 동안 지갑과 개인 키 관리는 크게 발전해 왔어요. Resonance Security의 엔지니어들과 함께 작성된 이 글에서는 블록체인 지갑의 개발자와 사용자들이 과거에 경험한 일부 문제들을 살펴보려 해요.</p>
<p>이 글을 통해 왜 지갑이 중요한지, 그리고 왜 안전하고 신뢰할 수 있게 지원하는 기술이 그렇게 어려운지에 대해 보다 명확한 이해를 갖게 될 거에요.</p>
<h1>지갑이란 무엇인가요?</h1>
<p>사토시의 첫 릴리스에는 블록체인 노드를 실행하는 소프트웨어와 블록체인 월렛이 모두 포함되어 있었습니다. 월렛 소프트웨어는 블록체인 상에서 자산을 소유한 사람들이 거래를 승인하는 데 사용되는 개인 키를 관리합니다. 이러한 개인 키는 디지털 자산을 보유하고 있는 공개 블록체인 주소를 파생시키며 이를 통해 해당 자산을 거래하는 승인을 디지털로 서명합니다.</p>
<p>블록체인은 비대칭 키 암호화를 사용하며 대개 ECDSA 알고리즘을 사용합니다. 따라서 개인 키를 생성하려면 약 256비트의 무작위 숫자(대략 1과 1.157 * 10⁷⁷ 사이의 숫자, 약 77개의 제로로 이루어져 있으며 1 뒤에 일의 비어 있는 숫자가 100개인 큰 숫자)를 선택해야 합니다.</p>
<p>결론적으로, 1) 정말로 무작위이면서 추측하기 어려운 256비트 숫자를 선택하는 것은 상당히 어렵고, 2) 그 숫자를 잃지 않고 보관하거나 다른 사람이 액세스하거나 훔치지 못하도록 하는 것은 더 어렵습니다.</p>
<h1>원본 월렛</h1>
<p>상기 언급된 첫 번째 블록체인 지갑은 종종 사토시 클라이언트로 불리기도 합니다. 초기에는 사토시 클라이언트가 C++ 난수 생성기를 사용하여 무작위로 개인 키를 생성하고 wallet.dat이라는 파일에 저장했습니다.</p>
<p>처음에는 파일이 암호화되지 않았기 때문에, 비트코인에 달러 가치가 생기면서 해커들이 네트워크화된 컴퓨터에 침입해서 wallet.dat 파일 및 따라서 파생된 비트코인 주소에 저장된 암호화폐를 훔치려고 시도하기 시작했습니다.</p>
<p>나중에 wallet.dat은 무작위 마스터 키로 암호화되었고, 이 마스터 키 자체는 wallet 암호라 불리는 비밀번호로 암호화되었습니다. 사용자 중에는 지나치게 간단한 wallet 암호를 선택하여 시간이 지남에 따라 시도 및 실패로 추측될 수 있는 경우가 있습니다.</p>
<p>이전에 폐기된 컴퓨터나 하드 드라이브에 초기 비트코인 소프트웨어의 오래된 설치 파일이 아직 남아 있는 경우가 가끔 발견됩니다. 이 파일에는 옛날 비트코인 자산에 액세스할 수 있는 키가 저장되어 있습니다. 파일이 암호화되지 않았거나 원래 소유자가 wallet 암호를 기억하고 있다면, 예상치 못한 암호화폐 대박에 이르게 될 수 있습니다.</p>
<h1>뇌 없는 지갑</h1>
<p>약 2013년경, 몇 명이 아이디어를 냈는데 처음에는 눈부시게 보였어요 — 비밀번호나 암호를 만들고 이를 SHA256 암호화 해시 함수로 해싱해 256비트 숫자로 만들어서 개인 키로 사용하는 것이죠. 이렇게 하면 비트코인을 머리 속에 넣고 다닐 수 있어요!</p>
<p>그러나 이 방법에는 두 가지 문제점이 있어요. 첫 번째는 사람들이 오랜 기간 동안 일어나는 일을 기억하는 데 잘하지 않다는 점이에요. 오늘은 암호가 기억하기 쉽게 느껴질 수 있지만, 1년이나 10년 후에는 그렇지 않을 거예요.</p>
<p>두 번째는 사람들이 진정으로 무작위로 암호를 만들어내는 데 능하지 않으며, 그래서 많은 브레인월렛들이 추측 가능했어요. 예를 들어, 누군가가 심슨즈 시즌 5, 에피소드 7의 한 대사가 좋은 암호일 것이라 생각했어요: &quot;You don&#x27;t win friends with salad!&quot;, 이를 사용해서 공개 주소 15gCfQVJ68vyUVdb6e3VDU4iTkTC3HtLQ2를 생성했어요.</p>
<p>누군가가 이를 추측하여 그 당시 보유한 세 비트코인을 탈취했습니다. 다행히 이후에 해당 비트코인은 반환되었고, 원래 주인은 수십 또는 수백 비트코인을 잃을 뻔했던 교훈을 얻었습니다.</p>
<h1>의사 난수 생성기</h1>
<p>지갑을 신중하게 다루고 오프라인으로 보관하고 시드 문구를 은행 금고 뒷면에 안전하게 보관한다해도, 첫 번째로 개인 키를 생성하는 데 사용된 방법이 실제로 무작위가 아니라면 아무 소용이 없습니다.</p>
<p>이것은 컴퓨터 프로그래밍에서 반복되는 문제입니다. 컴퓨터는 무작위로 잘 처리하지 못합니다. 그들은 결정론적인 기계입니다. 대부분의 경우, 예를 들어 적들이 무작위로 생성되는 게임을 작성할 때, 빠른 의사 난수 생성기(PRNG)를 사용하는 것이 충분합니다.</p>
<p>하지만 PRNG(의사 난수 생성기)는 컴퓨터의 어떤 경우에서도 동일한 &quot;랜덤&quot; 숫자 시퀀스를 생성합니다. 이는 동일한 시드 값을 사용하여 프로세스를 시작하면 된다는 뜻이며, 개발자들은 주로 PRNG 시드 값으로 현재 시간을 사용합니다.</p>
<p><img src="/assets/img/2024-05-05-InSearchofLostKeys_0.png" alt="Image"/></p>
<p>누군가는 컴퓨터 게임에서 고블린이나 좀비들이 나타날 정확한 위치를 찾는 데 시간과 노력을 들일 사람이 없겠지만, 랜덤 숫자가 블록체인 주소를 생성하는 데 사용되고, 해당 블록체인 주소에 암호화폐가 보관되어 있다면, 값 보관 주소를 생성하는 데 사용된 시드 입력을 시도해 볼 가치가 있습니다.</p>
<p>결국, Cakewallet이라는 지갑 제공 업체가 자신들의 코드에서 정확히 이 실수를 저질렀다는 것을 밝혀냈습니다. Cakewallet의 첫 릴리스가 2018년에 나왔고, 결함이 2021년까지 발견되지 않았기 때문에, 취약한 지갑 주소의 3년간 윈도우가 남게 되었습니다.</p>
<p>그리고 세 가지 해야 할 것은 단지 95 백만 초에 불과합니다. 모든 월렛 주소는 1 억 회 미만으로 브루트 포스로 공격당할 수 있기 때문에 오프라인에서 당신의 해독 소프트웨어를 실행하고 괜찮은 컴퓨터와 몇 달이면 충분합니다.</p>
<h1>수의 보호 실패</h1>
<p>많은 책임을 맡았을 때, 많은 사람들이 선택한 첫 번째 방법은 부모 대신 역할을 맡을 사람을 찾는 것입니다. 그래서 외부 위임 월렛이 있습니다. 자산을 회사나 개인에게 이전하고 그들에게 월렛 보안, 비밀번호 기억 및 해커로부터의 보호 등의 모든 일을 처리하도록 합니다.</p>
<p>이론상으로 비트코인 및 기타 디지털 자산을 보호하는 조직이 규모의 효율성을 가지고 있으며 보안 컨설턴트, 암호화 소프트웨어 개발자 및 경험 많은 네트워크 엔지니어를 고용하여 모든 것이 원할하게 진행되도록 할 수 있다고 생각됩니다.</p>
<p>실제로, 보관 지갑들이 많은 사례에서 실패하는 것을 볼 수 있습니다. 큰 일반적인 두 가지 사례는 다음과 같습니다:</p>
<ul>
<li>2014년 Mt. Gox가 폐쇄되었을 때 수백만 개의 비트코인이 2년 동안 핫 암호화폐 지갑에서 도난당했음을 알게 되었을 때 폐쇄되었습니다. 분실된 자금: 대략 65만 비트코인과 2,700만 달러.</li>
<li>2022년 FTX가 폐쇄되었습니다. 거래소가 입금에 대한 보증금을 지지하기에 충분한 자산을 보유하지 않았고 일부 자금을 사기적으로 거래하거나 대여하거나 발표금액 중 상당 부분을 배해 바하마의 정치 기부 및 부동산에 사용한 사실이 드러난 후입니다. 분실된 자금: 대략 80억 달러.</li>
</ul>
<p><img src="/assets/img/2024-05-05-InSearchofLostKeys_1.png" alt="InSearchofLostKeys"/></p>
<p>보호자가 더 능숙할지도 모르고 범인일 가능성도 있는 한 가지 문제는 보유자 없이는 보증할 수 없다는 점입니다. 또한, 암호화폐는 도난이나 분실로부터 자산을 보호해 주는 연방예금보험공사가 없습니다. 더구나 중앙집중형 보호자는 해커 그룹에게 풍부한 공격 대상이 됩니다.</p>
<h1>스마트 계약 믿기</h1>
<p>자산을 직접 보관하거나 자신의 자산을 보유하고 스마트 계약을 사용해보는 건 어떨까요? 이것이 바로 이더리움의 Parity 지갑 스마트 계약 라이브러리가 설계된 목적입니다. 해당 라이브러리를 사용하여 자산을 지갑 스마트 계약으로 이체하고, 이후 자산을 다시 이동하기 위해 여러 인가 서명이 필요합니다.</p>
<p>이 다중 서명 방법은 좋은 방법처럼 보였습니다 (그리고 실제로 그렇습니다): 예를 들어, 6 명의 이사 중 3 명이 서명을 할 때야 자산을 이동할 수 있습니다. 그렇기에 만약 그 중 한 명 또는 두 명이 피싱이나 간과로 암호를 분실하거나 부패한 비투명을 한다 해도 자산은 안전합니다.</p>
<p>안타깝게도, Parity 지갑 라이브러리에는 버그가 포함되어 있었습니다. 2017 년에 배포될 때 (다른 버그를 고치기 위해 다시 배포된 경우) 지갑 라이브러리는 소유자로 초기화되지 않았습니다. 코드에 &quot;kill&quot; 함수가 포함되어 있었는데, 해당 함수는 계약의 소유자에 의해 호출될 수 있습니다. devops199라는 핸들을 사용하는 누군가는 초기화 함수를 호출하여 라이브러리의 소유권을 확보한 후, 모든 Parity 지갑 라이브러리를 사용하는 다중 서명 지갑에 의해 보유되고 있는 모든 자금을 얼렸습니다.</p>
<p><img src="/assets/img/2024-05-05-InSearchofLostKeys_2.png" alt="In Search of Lost Keys"/></p>
<p>총 분실 금액은 513,743 ETH로, 현재 가격 기준으로 약 12억 달러입니다.</p>
<h1>요약</h1>
<p>암호화 자산을 보호하는 것은 마치 &quot;머리로는 당신이 잃고, 꼬리로는 해커들이 얻는&quot; 게임처럼 느껴집니다. 자신만으로 보호하기는 어렵고, 다른 사람에게 맡기는 것은 더 어려울 수 있습니다.</p>
<p>암호화폐는 여전히 야생에 놓여있다는 사실은 변함없습니다. 여러분은 결정해야 합니다 - 나는 가이드와 함께 가야 하나요(그들의 능력을 어떻게 판단할 수 있을까요), 아니면 생존 기술을 배우고 자신에게 의존해야 하나요. 블록체인 공간이 공원이 될 때까지, 그것이 바로 현재의 상황입니다.</p>
<p>그동안, 자신과 자산을 보호하는 것은 작업을 필요로 합니다:</p>
<ul>
<li>암호화폐와 안전한 관행에 대해 교육을 받는 데 시간을 투자하세요,</li>
<li>인증 및 감사를 확인하고, 해당 인증 또는 감사 단체를 조사하세요,</li>
<li>너무 좋아 보이면 확실히 그렇다는 것을 기억하세요.</li>
</ul>
<p>이제 남은 것은 저와 Resonance Security가 여러분에게 번영하고, 무엇보다도 안전한 새해를 기원하는 것뿐입니다.</p></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"잃어버린 열쇠를 찾아요","description":"","date":"2024-05-05 17:37","slug":"2024-05-05-InSearchofLostKeys","content":"\n\n이 글은 \"과거에서의 소식\"으로, 새해가 다가오는 지금 이 시기에 적절하다고 생각해요. 사토시 나카모토는 2009년 1월 3일에 최초의 블록체인인 비트코인을 발표했습니다. 그리고 우리는 거의 그 이벤트의 15주년을 맞이하고 있어요.\n\n블록체인은 지갑을 주요 사용자 인터페이스로 사용하며, 지난 15년 동안 지갑과 개인 키 관리는 크게 발전해 왔어요. Resonance Security의 엔지니어들과 함께 작성된 이 글에서는 블록체인 지갑의 개발자와 사용자들이 과거에 경험한 일부 문제들을 살펴보려 해요.\n\n이 글을 통해 왜 지갑이 중요한지, 그리고 왜 안전하고 신뢰할 수 있게 지원하는 기술이 그렇게 어려운지에 대해 보다 명확한 이해를 갖게 될 거에요.\n\n# 지갑이란 무엇인가요?\n\n\n\n사토시의 첫 릴리스에는 블록체인 노드를 실행하는 소프트웨어와 블록체인 월렛이 모두 포함되어 있었습니다. 월렛 소프트웨어는 블록체인 상에서 자산을 소유한 사람들이 거래를 승인하는 데 사용되는 개인 키를 관리합니다. 이러한 개인 키는 디지털 자산을 보유하고 있는 공개 블록체인 주소를 파생시키며 이를 통해 해당 자산을 거래하는 승인을 디지털로 서명합니다.\n\n블록체인은 비대칭 키 암호화를 사용하며 대개 ECDSA 알고리즘을 사용합니다. 따라서 개인 키를 생성하려면 약 256비트의 무작위 숫자(대략 1과 1.157 * 10⁷⁷ 사이의 숫자, 약 77개의 제로로 이루어져 있으며 1 뒤에 일의 비어 있는 숫자가 100개인 큰 숫자)를 선택해야 합니다.\n\n결론적으로, 1) 정말로 무작위이면서 추측하기 어려운 256비트 숫자를 선택하는 것은 상당히 어렵고, 2) 그 숫자를 잃지 않고 보관하거나 다른 사람이 액세스하거나 훔치지 못하도록 하는 것은 더 어렵습니다.\n\n# 원본 월렛\n\n\n\n상기 언급된 첫 번째 블록체인 지갑은 종종 사토시 클라이언트로 불리기도 합니다. 초기에는 사토시 클라이언트가 C++ 난수 생성기를 사용하여 무작위로 개인 키를 생성하고 wallet.dat이라는 파일에 저장했습니다.\n\n처음에는 파일이 암호화되지 않았기 때문에, 비트코인에 달러 가치가 생기면서 해커들이 네트워크화된 컴퓨터에 침입해서 wallet.dat 파일 및 따라서 파생된 비트코인 주소에 저장된 암호화폐를 훔치려고 시도하기 시작했습니다.\n\n나중에 wallet.dat은 무작위 마스터 키로 암호화되었고, 이 마스터 키 자체는 wallet 암호라 불리는 비밀번호로 암호화되었습니다. 사용자 중에는 지나치게 간단한 wallet 암호를 선택하여 시간이 지남에 따라 시도 및 실패로 추측될 수 있는 경우가 있습니다.\n\n이전에 폐기된 컴퓨터나 하드 드라이브에 초기 비트코인 소프트웨어의 오래된 설치 파일이 아직 남아 있는 경우가 가끔 발견됩니다. 이 파일에는 옛날 비트코인 자산에 액세스할 수 있는 키가 저장되어 있습니다. 파일이 암호화되지 않았거나 원래 소유자가 wallet 암호를 기억하고 있다면, 예상치 못한 암호화폐 대박에 이르게 될 수 있습니다.\n\n\n\n# 뇌 없는 지갑\n\n약 2013년경, 몇 명이 아이디어를 냈는데 처음에는 눈부시게 보였어요 — 비밀번호나 암호를 만들고 이를 SHA256 암호화 해시 함수로 해싱해 256비트 숫자로 만들어서 개인 키로 사용하는 것이죠. 이렇게 하면 비트코인을 머리 속에 넣고 다닐 수 있어요!\n\n그러나 이 방법에는 두 가지 문제점이 있어요. 첫 번째는 사람들이 오랜 기간 동안 일어나는 일을 기억하는 데 잘하지 않다는 점이에요. 오늘은 암호가 기억하기 쉽게 느껴질 수 있지만, 1년이나 10년 후에는 그렇지 않을 거예요.\n\n두 번째는 사람들이 진정으로 무작위로 암호를 만들어내는 데 능하지 않으며, 그래서 많은 브레인월렛들이 추측 가능했어요. 예를 들어, 누군가가 심슨즈 시즌 5, 에피소드 7의 한 대사가 좋은 암호일 것이라 생각했어요: \"You don't win friends with salad!\", 이를 사용해서 공개 주소 15gCfQVJ68vyUVdb6e3VDU4iTkTC3HtLQ2를 생성했어요.\n\n\n\n누군가가 이를 추측하여 그 당시 보유한 세 비트코인을 탈취했습니다. 다행히 이후에 해당 비트코인은 반환되었고, 원래 주인은 수십 또는 수백 비트코인을 잃을 뻔했던 교훈을 얻었습니다.\n\n# 의사 난수 생성기\n\n지갑을 신중하게 다루고 오프라인으로 보관하고 시드 문구를 은행 금고 뒷면에 안전하게 보관한다해도, 첫 번째로 개인 키를 생성하는 데 사용된 방법이 실제로 무작위가 아니라면 아무 소용이 없습니다.\n\n이것은 컴퓨터 프로그래밍에서 반복되는 문제입니다. 컴퓨터는 무작위로 잘 처리하지 못합니다. 그들은 결정론적인 기계입니다. 대부분의 경우, 예를 들어 적들이 무작위로 생성되는 게임을 작성할 때, 빠른 의사 난수 생성기(PRNG)를 사용하는 것이 충분합니다.\n\n\n\n하지만 PRNG(의사 난수 생성기)는 컴퓨터의 어떤 경우에서도 동일한 \"랜덤\" 숫자 시퀀스를 생성합니다. 이는 동일한 시드 값을 사용하여 프로세스를 시작하면 된다는 뜻이며, 개발자들은 주로 PRNG 시드 값으로 현재 시간을 사용합니다.\n\n![Image](/assets/img/2024-05-05-InSearchofLostKeys_0.png)\n\n누군가는 컴퓨터 게임에서 고블린이나 좀비들이 나타날 정확한 위치를 찾는 데 시간과 노력을 들일 사람이 없겠지만, 랜덤 숫자가 블록체인 주소를 생성하는 데 사용되고, 해당 블록체인 주소에 암호화폐가 보관되어 있다면, 값 보관 주소를 생성하는 데 사용된 시드 입력을 시도해 볼 가치가 있습니다.\n\n결국, Cakewallet이라는 지갑 제공 업체가 자신들의 코드에서 정확히 이 실수를 저질렀다는 것을 밝혀냈습니다. Cakewallet의 첫 릴리스가 2018년에 나왔고, 결함이 2021년까지 발견되지 않았기 때문에, 취약한 지갑 주소의 3년간 윈도우가 남게 되었습니다.\n\n\n\n그리고 세 가지 해야 할 것은 단지 95 백만 초에 불과합니다. 모든 월렛 주소는 1 억 회 미만으로 브루트 포스로 공격당할 수 있기 때문에 오프라인에서 당신의 해독 소프트웨어를 실행하고 괜찮은 컴퓨터와 몇 달이면 충분합니다.\n\n# 수의 보호 실패\n\n많은 책임을 맡았을 때, 많은 사람들이 선택한 첫 번째 방법은 부모 대신 역할을 맡을 사람을 찾는 것입니다. 그래서 외부 위임 월렛이 있습니다. 자산을 회사나 개인에게 이전하고 그들에게 월렛 보안, 비밀번호 기억 및 해커로부터의 보호 등의 모든 일을 처리하도록 합니다.\n\n이론상으로 비트코인 및 기타 디지털 자산을 보호하는 조직이 규모의 효율성을 가지고 있으며 보안 컨설턴트, 암호화 소프트웨어 개발자 및 경험 많은 네트워크 엔지니어를 고용하여 모든 것이 원할하게 진행되도록 할 수 있다고 생각됩니다.\n\n\n\n실제로, 보관 지갑들이 많은 사례에서 실패하는 것을 볼 수 있습니다. 큰 일반적인 두 가지 사례는 다음과 같습니다:\n\n- 2014년 Mt. Gox가 폐쇄되었을 때 수백만 개의 비트코인이 2년 동안 핫 암호화폐 지갑에서 도난당했음을 알게 되었을 때 폐쇄되었습니다. 분실된 자금: 대략 65만 비트코인과 2,700만 달러.\n- 2022년 FTX가 폐쇄되었습니다. 거래소가 입금에 대한 보증금을 지지하기에 충분한 자산을 보유하지 않았고 일부 자금을 사기적으로 거래하거나 대여하거나 발표금액 중 상당 부분을 배해 바하마의 정치 기부 및 부동산에 사용한 사실이 드러난 후입니다. 분실된 자금: 대략 80억 달러.\n\n![InSearchofLostKeys](/assets/img/2024-05-05-InSearchofLostKeys_1.png)\n\n보호자가 더 능숙할지도 모르고 범인일 가능성도 있는 한 가지 문제는 보유자 없이는 보증할 수 없다는 점입니다. 또한, 암호화폐는 도난이나 분실로부터 자산을 보호해 주는 연방예금보험공사가 없습니다. 더구나 중앙집중형 보호자는 해커 그룹에게 풍부한 공격 대상이 됩니다.\n\n\n\n# 스마트 계약 믿기\n\n자산을 직접 보관하거나 자신의 자산을 보유하고 스마트 계약을 사용해보는 건 어떨까요? 이것이 바로 이더리움의 Parity 지갑 스마트 계약 라이브러리가 설계된 목적입니다. 해당 라이브러리를 사용하여 자산을 지갑 스마트 계약으로 이체하고, 이후 자산을 다시 이동하기 위해 여러 인가 서명이 필요합니다.\n\n이 다중 서명 방법은 좋은 방법처럼 보였습니다 (그리고 실제로 그렇습니다): 예를 들어, 6 명의 이사 중 3 명이 서명을 할 때야 자산을 이동할 수 있습니다. 그렇기에 만약 그 중 한 명 또는 두 명이 피싱이나 간과로 암호를 분실하거나 부패한 비투명을 한다 해도 자산은 안전합니다.\n\n안타깝게도, Parity 지갑 라이브러리에는 버그가 포함되어 있었습니다. 2017 년에 배포될 때 (다른 버그를 고치기 위해 다시 배포된 경우) 지갑 라이브러리는 소유자로 초기화되지 않았습니다. 코드에 \"kill\" 함수가 포함되어 있었는데, 해당 함수는 계약의 소유자에 의해 호출될 수 있습니다. devops199라는 핸들을 사용하는 누군가는 초기화 함수를 호출하여 라이브러리의 소유권을 확보한 후, 모든 Parity 지갑 라이브러리를 사용하는 다중 서명 지갑에 의해 보유되고 있는 모든 자금을 얼렸습니다.\n\n\n\n![In Search of Lost Keys](/assets/img/2024-05-05-InSearchofLostKeys_2.png)\n\n총 분실 금액은 513,743 ETH로, 현재 가격 기준으로 약 12억 달러입니다.\n\n# 요약\n\n암호화 자산을 보호하는 것은 마치 \"머리로는 당신이 잃고, 꼬리로는 해커들이 얻는\" 게임처럼 느껴집니다. 자신만으로 보호하기는 어렵고, 다른 사람에게 맡기는 것은 더 어려울 수 있습니다.\n\n\n\n암호화폐는 여전히 야생에 놓여있다는 사실은 변함없습니다. 여러분은 결정해야 합니다 - 나는 가이드와 함께 가야 하나요(그들의 능력을 어떻게 판단할 수 있을까요), 아니면 생존 기술을 배우고 자신에게 의존해야 하나요. 블록체인 공간이 공원이 될 때까지, 그것이 바로 현재의 상황입니다.\n\n그동안, 자신과 자산을 보호하는 것은 작업을 필요로 합니다:\n\n- 암호화폐와 안전한 관행에 대해 교육을 받는 데 시간을 투자하세요,\n- 인증 및 감사를 확인하고, 해당 인증 또는 감사 단체를 조사하세요,\n- 너무 좋아 보이면 확실히 그렇다는 것을 기억하세요.\n\n이제 남은 것은 저와 Resonance Security가 여러분에게 번영하고, 무엇보다도 안전한 새해를 기원하는 것뿐입니다.","ogImage":{"url":"/assets/img/2024-05-05-InSearchofLostKeys_0.png"},"coverImage":"/assets/img/2024-05-05-InSearchofLostKeys_0.png","tag":["Tech"],"readingTime":6},"content":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    h1: \"h1\",\n    img: \"img\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.p, {\n      children: \"이 글은 \\\"과거에서의 소식\\\"으로, 새해가 다가오는 지금 이 시기에 적절하다고 생각해요. 사토시 나카모토는 2009년 1월 3일에 최초의 블록체인인 비트코인을 발표했습니다. 그리고 우리는 거의 그 이벤트의 15주년을 맞이하고 있어요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"블록체인은 지갑을 주요 사용자 인터페이스로 사용하며, 지난 15년 동안 지갑과 개인 키 관리는 크게 발전해 왔어요. Resonance Security의 엔지니어들과 함께 작성된 이 글에서는 블록체인 지갑의 개발자와 사용자들이 과거에 경험한 일부 문제들을 살펴보려 해요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 글을 통해 왜 지갑이 중요한지, 그리고 왜 안전하고 신뢰할 수 있게 지원하는 기술이 그렇게 어려운지에 대해 보다 명확한 이해를 갖게 될 거에요.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"지갑이란 무엇인가요?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"사토시의 첫 릴리스에는 블록체인 노드를 실행하는 소프트웨어와 블록체인 월렛이 모두 포함되어 있었습니다. 월렛 소프트웨어는 블록체인 상에서 자산을 소유한 사람들이 거래를 승인하는 데 사용되는 개인 키를 관리합니다. 이러한 개인 키는 디지털 자산을 보유하고 있는 공개 블록체인 주소를 파생시키며 이를 통해 해당 자산을 거래하는 승인을 디지털로 서명합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"블록체인은 비대칭 키 암호화를 사용하며 대개 ECDSA 알고리즘을 사용합니다. 따라서 개인 키를 생성하려면 약 256비트의 무작위 숫자(대략 1과 1.157 * 10⁷⁷ 사이의 숫자, 약 77개의 제로로 이루어져 있으며 1 뒤에 일의 비어 있는 숫자가 100개인 큰 숫자)를 선택해야 합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"결론적으로, 1) 정말로 무작위이면서 추측하기 어려운 256비트 숫자를 선택하는 것은 상당히 어렵고, 2) 그 숫자를 잃지 않고 보관하거나 다른 사람이 액세스하거나 훔치지 못하도록 하는 것은 더 어렵습니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"원본 월렛\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"상기 언급된 첫 번째 블록체인 지갑은 종종 사토시 클라이언트로 불리기도 합니다. 초기에는 사토시 클라이언트가 C++ 난수 생성기를 사용하여 무작위로 개인 키를 생성하고 wallet.dat이라는 파일에 저장했습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"처음에는 파일이 암호화되지 않았기 때문에, 비트코인에 달러 가치가 생기면서 해커들이 네트워크화된 컴퓨터에 침입해서 wallet.dat 파일 및 따라서 파생된 비트코인 주소에 저장된 암호화폐를 훔치려고 시도하기 시작했습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"나중에 wallet.dat은 무작위 마스터 키로 암호화되었고, 이 마스터 키 자체는 wallet 암호라 불리는 비밀번호로 암호화되었습니다. 사용자 중에는 지나치게 간단한 wallet 암호를 선택하여 시간이 지남에 따라 시도 및 실패로 추측될 수 있는 경우가 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이전에 폐기된 컴퓨터나 하드 드라이브에 초기 비트코인 소프트웨어의 오래된 설치 파일이 아직 남아 있는 경우가 가끔 발견됩니다. 이 파일에는 옛날 비트코인 자산에 액세스할 수 있는 키가 저장되어 있습니다. 파일이 암호화되지 않았거나 원래 소유자가 wallet 암호를 기억하고 있다면, 예상치 못한 암호화폐 대박에 이르게 될 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"뇌 없는 지갑\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"약 2013년경, 몇 명이 아이디어를 냈는데 처음에는 눈부시게 보였어요 — 비밀번호나 암호를 만들고 이를 SHA256 암호화 해시 함수로 해싱해 256비트 숫자로 만들어서 개인 키로 사용하는 것이죠. 이렇게 하면 비트코인을 머리 속에 넣고 다닐 수 있어요!\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그러나 이 방법에는 두 가지 문제점이 있어요. 첫 번째는 사람들이 오랜 기간 동안 일어나는 일을 기억하는 데 잘하지 않다는 점이에요. 오늘은 암호가 기억하기 쉽게 느껴질 수 있지만, 1년이나 10년 후에는 그렇지 않을 거예요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"두 번째는 사람들이 진정으로 무작위로 암호를 만들어내는 데 능하지 않으며, 그래서 많은 브레인월렛들이 추측 가능했어요. 예를 들어, 누군가가 심슨즈 시즌 5, 에피소드 7의 한 대사가 좋은 암호일 것이라 생각했어요: \\\"You don't win friends with salad!\\\", 이를 사용해서 공개 주소 15gCfQVJ68vyUVdb6e3VDU4iTkTC3HtLQ2를 생성했어요.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"누군가가 이를 추측하여 그 당시 보유한 세 비트코인을 탈취했습니다. 다행히 이후에 해당 비트코인은 반환되었고, 원래 주인은 수십 또는 수백 비트코인을 잃을 뻔했던 교훈을 얻었습니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"의사 난수 생성기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"지갑을 신중하게 다루고 오프라인으로 보관하고 시드 문구를 은행 금고 뒷면에 안전하게 보관한다해도, 첫 번째로 개인 키를 생성하는 데 사용된 방법이 실제로 무작위가 아니라면 아무 소용이 없습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이것은 컴퓨터 프로그래밍에서 반복되는 문제입니다. 컴퓨터는 무작위로 잘 처리하지 못합니다. 그들은 결정론적인 기계입니다. 대부분의 경우, 예를 들어 적들이 무작위로 생성되는 게임을 작성할 때, 빠른 의사 난수 생성기(PRNG)를 사용하는 것이 충분합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"하지만 PRNG(의사 난수 생성기)는 컴퓨터의 어떤 경우에서도 동일한 \\\"랜덤\\\" 숫자 시퀀스를 생성합니다. 이는 동일한 시드 값을 사용하여 프로세스를 시작하면 된다는 뜻이며, 개발자들은 주로 PRNG 시드 값으로 현재 시간을 사용합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-05-InSearchofLostKeys_0.png\",\n        alt: \"Image\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"누군가는 컴퓨터 게임에서 고블린이나 좀비들이 나타날 정확한 위치를 찾는 데 시간과 노력을 들일 사람이 없겠지만, 랜덤 숫자가 블록체인 주소를 생성하는 데 사용되고, 해당 블록체인 주소에 암호화폐가 보관되어 있다면, 값 보관 주소를 생성하는 데 사용된 시드 입력을 시도해 볼 가치가 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"결국, Cakewallet이라는 지갑 제공 업체가 자신들의 코드에서 정확히 이 실수를 저질렀다는 것을 밝혀냈습니다. Cakewallet의 첫 릴리스가 2018년에 나왔고, 결함이 2021년까지 발견되지 않았기 때문에, 취약한 지갑 주소의 3년간 윈도우가 남게 되었습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그리고 세 가지 해야 할 것은 단지 95 백만 초에 불과합니다. 모든 월렛 주소는 1 억 회 미만으로 브루트 포스로 공격당할 수 있기 때문에 오프라인에서 당신의 해독 소프트웨어를 실행하고 괜찮은 컴퓨터와 몇 달이면 충분합니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"수의 보호 실패\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"많은 책임을 맡았을 때, 많은 사람들이 선택한 첫 번째 방법은 부모 대신 역할을 맡을 사람을 찾는 것입니다. 그래서 외부 위임 월렛이 있습니다. 자산을 회사나 개인에게 이전하고 그들에게 월렛 보안, 비밀번호 기억 및 해커로부터의 보호 등의 모든 일을 처리하도록 합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이론상으로 비트코인 및 기타 디지털 자산을 보호하는 조직이 규모의 효율성을 가지고 있으며 보안 컨설턴트, 암호화 소프트웨어 개발자 및 경험 많은 네트워크 엔지니어를 고용하여 모든 것이 원할하게 진행되도록 할 수 있다고 생각됩니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"실제로, 보관 지갑들이 많은 사례에서 실패하는 것을 볼 수 있습니다. 큰 일반적인 두 가지 사례는 다음과 같습니다:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"2014년 Mt. Gox가 폐쇄되었을 때 수백만 개의 비트코인이 2년 동안 핫 암호화폐 지갑에서 도난당했음을 알게 되었을 때 폐쇄되었습니다. 분실된 자금: 대략 65만 비트코인과 2,700만 달러.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"2022년 FTX가 폐쇄되었습니다. 거래소가 입금에 대한 보증금을 지지하기에 충분한 자산을 보유하지 않았고 일부 자금을 사기적으로 거래하거나 대여하거나 발표금액 중 상당 부분을 배해 바하마의 정치 기부 및 부동산에 사용한 사실이 드러난 후입니다. 분실된 자금: 대략 80억 달러.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-05-InSearchofLostKeys_1.png\",\n        alt: \"InSearchofLostKeys\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"보호자가 더 능숙할지도 모르고 범인일 가능성도 있는 한 가지 문제는 보유자 없이는 보증할 수 없다는 점입니다. 또한, 암호화폐는 도난이나 분실로부터 자산을 보호해 주는 연방예금보험공사가 없습니다. 더구나 중앙집중형 보호자는 해커 그룹에게 풍부한 공격 대상이 됩니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"스마트 계약 믿기\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"자산을 직접 보관하거나 자신의 자산을 보유하고 스마트 계약을 사용해보는 건 어떨까요? 이것이 바로 이더리움의 Parity 지갑 스마트 계약 라이브러리가 설계된 목적입니다. 해당 라이브러리를 사용하여 자산을 지갑 스마트 계약으로 이체하고, 이후 자산을 다시 이동하기 위해 여러 인가 서명이 필요합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이 다중 서명 방법은 좋은 방법처럼 보였습니다 (그리고 실제로 그렇습니다): 예를 들어, 6 명의 이사 중 3 명이 서명을 할 때야 자산을 이동할 수 있습니다. 그렇기에 만약 그 중 한 명 또는 두 명이 피싱이나 간과로 암호를 분실하거나 부패한 비투명을 한다 해도 자산은 안전합니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"안타깝게도, Parity 지갑 라이브러리에는 버그가 포함되어 있었습니다. 2017 년에 배포될 때 (다른 버그를 고치기 위해 다시 배포된 경우) 지갑 라이브러리는 소유자로 초기화되지 않았습니다. 코드에 \\\"kill\\\" 함수가 포함되어 있었는데, 해당 함수는 계약의 소유자에 의해 호출될 수 있습니다. devops199라는 핸들을 사용하는 누군가는 초기화 함수를 호출하여 라이브러리의 소유권을 확보한 후, 모든 Parity 지갑 라이브러리를 사용하는 다중 서명 지갑에 의해 보유되고 있는 모든 자금을 얼렸습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/assets/img/2024-05-05-InSearchofLostKeys_2.png\",\n        alt: \"In Search of Lost Keys\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"총 분실 금액은 513,743 ETH로, 현재 가격 기준으로 약 12억 달러입니다.\"\n    }), \"\\n\", _jsx(_components.h1, {\n      children: \"요약\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"암호화 자산을 보호하는 것은 마치 \\\"머리로는 당신이 잃고, 꼬리로는 해커들이 얻는\\\" 게임처럼 느껴집니다. 자신만으로 보호하기는 어렵고, 다른 사람에게 맡기는 것은 더 어려울 수 있습니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"암호화폐는 여전히 야생에 놓여있다는 사실은 변함없습니다. 여러분은 결정해야 합니다 - 나는 가이드와 함께 가야 하나요(그들의 능력을 어떻게 판단할 수 있을까요), 아니면 생존 기술을 배우고 자신에게 의존해야 하나요. 블록체인 공간이 공원이 될 때까지, 그것이 바로 현재의 상황입니다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"그동안, 자신과 자산을 보호하는 것은 작업을 필요로 합니다:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"암호화폐와 안전한 관행에 대해 교육을 받는 데 시간을 투자하세요,\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"인증 및 감사를 확인하고, 해당 인증 또는 감사 단체를 조사하세요,\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"너무 좋아 보이면 확실히 그렇다는 것을 기억하세요.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이제 남은 것은 저와 Resonance Security가 여러분에게 번영하고, 무엇보다도 안전한 새해를 기원하는 것뿐입니다.\"\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-05-InSearchofLostKeys"},"buildId":"o88Ur64-oLrud7YPysgph","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>